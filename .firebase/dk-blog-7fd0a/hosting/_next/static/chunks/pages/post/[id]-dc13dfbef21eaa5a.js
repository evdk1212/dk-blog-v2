(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{3208:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[id]",function(){return a(7860)}])},2316:function(e,t,a){"use strict";a.d(t,{vx:function(){return u},y4:function(){return N},in:function(){return h},An:function(){return f}}),a(8406),a(5674);var s=a(5893),n=a(7294),c=a(2780),r=a.n(c),d=a(1481),l=a(4866);a(9418);var i=a(5675),o=a.n(i);let m=e=>{let{posts:t}=e,a=async e=>{await d.db.collection("posts").doc(e).update({views:l.Z.firestore.FieldValue.increment(1)}),window.location.href="/post/".concat(e)};return(0,s.jsx)(s.Fragment,{children:t.map(e=>(0,s.jsxs)("div",{className:"".concat(r().card," card shadow-effect card-custom"),onClick:()=>a(e.id),children:[(0,s.jsx)(o(),{src:e.postImgPath,width:600,height:400,className:"".concat(r()["card-img"]," card-img-top"),alt:"post-image"}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("small",{className:"bg-dark text-danger text-center",children:e.category.category}),e.isFeatured&&(0,s.jsx)("small",{className:"bg-dark text-success text-center ms-3",children:" Featured"}),(0,s.jsxs)("small",{className:"bg-dark text-info text-center ms-3",children:[" Views - ",e.views]}),(0,s.jsx)("h5",{className:"mt-1",children:e.title}),(0,s.jsx)("p",{children:e.excerpt.slice(0,100)}),(0,s.jsxs)("small",{className:"bg-dark text-warning text-center ms-3",children:[" LAST UPDATED - ",e.createdAt]})]})]},e.id))})};var h=m;let x=e=>{let{postId:t}=e,[a,c]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),i=async e=>{if(e.preventDefault(),!a||!r){alert("Please enter your name and comment");return}try{let e=await d.db.collection("posts").doc(t).collection("comments").add({name:a,comment:r,createdAt:new Date});console.log("Comment added with ID:",e.id),c(""),l("")}catch(e){console.error("Error adding comment:",e),alert("Error adding comment")}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"card mt-5 shadow-effect card-custom",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h4",{children:"Leave a Comment"}),(0,s.jsx)("p",{children:"You can leave a comment about this post!"}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Name"}),(0,s.jsx)("input",{type:"text",name:"name",className:"form-control mt-1",placeholder:"Enter your name here",value:a,onChange:e=>c(e.target.value)}),(0,s.jsx)("div",{className:"alert alert-danger",children:"Name field is required"})]}),(0,s.jsxs)("div",{className:"form-group mt-3",children:[(0,s.jsx)("label",{children:"Comment"}),(0,s.jsx)("textarea",{className:"form-control mt-1",placeholder:"Add your comment here!",value:r,onChange:e=>l(e.target.value)}),(0,s.jsx)("div",{className:"alert alert-danger",children:"Comment field is required"})]}),(0,s.jsx)("button",{className:"btn btn-info mt-3 btn-theme",onClick:i,children:"Add a comment"})]})]})})})};var u=x;let j=e=>{let{comments:t}=e;return(0,s.jsx)(s.Fragment,{children:t.map(e=>{var t;return(0,s.jsxs)("div",{className:"comment-box mt-3",children:[(0,s.jsx)("h6",{className:"mb-0",children:e.name}),(0,s.jsxs)("small",{className:"text-danger",children:["LAST UPDATED -"," ",new Date(null===(t=e.createdAt)||void 0===t?void 0:t.toDate()).toLocaleDateString()]}),(0,s.jsx)("div",{className:"mt-3 mb-3",children:e.comment}),(0,s.jsx)("a",{className:"mt-1",children:"Reply"}),(0,s.jsx)("a",{className:"mt-1 ms-3",children:"View Reply"})]},e.id)})})};var N=j,g=a(6022),v=a.n(g);let p=e=>{let{content:t,onClose:a}=e;return(0,s.jsxs)("div",{className:v().readerMode,children:[(0,s.jsx)("div",{className:v().readerModeContent,dangerouslySetInnerHTML:{__html:t}}),(0,s.jsx)("button",{className:v().readerModeCloseButton,onClick:a,children:"Close"})]})};var f=p},7860:function(e,t,a){"use strict";a.r(t);var s=a(5893),n=a(2316),c=a(1481),r=a(1163),d=a(7294),l=a(9854),i=a.n(l),o=a(5675),m=a.n(o);let h=()=>{let e=(0,r.useRouter)(),{id:t}=e.query,[a,l]=(0,d.useState)([]),o=a.filter(e=>e.id==t),[h,x]=(0,d.useState)([]),[u,j]=(0,d.useState)(!1),N=()=>{j(!u)};return(0,d.useEffect)(()=>{let e=async()=>{let e=await c.db.collection("posts").doc(null==t?void 0:t.toString()).collection("comments").get(),a=e.docs.map(e=>({id:e.id,...e.data()}));x(a)};t&&e()},[t]),(0,d.useEffect)(()=>{let e=async()=>{let e=await c.db.collection("posts").get(),t=e.docs.map(e=>({id:e.id,...e.data()}));l(t)};e()},[]),(0,s.jsx)(s.Fragment,{children:o.map(e=>(0,s.jsxs)("div",{className:"container ".concat(i().main2),children:[(0,s.jsx)("button",{onClick:N,className:"btn-theme",children:u?"Close Reader Mode":"Reader Mode"}),u&&(0,s.jsx)(n.An,{content:e.content,onClose:N}),(0,s.jsxs)("div",{className:" ".concat(u?i().hidden:""," row"),children:[(0,s.jsxs)("div",{className:"col-md-9 mt-4",children:[(0,s.jsxs)("div",{className:"card shadow-effect card-custom-post",children:[(0,s.jsx)(m(),{src:e.postImgPath,width:600,height:400,alt:"single-post-image",className:"card-img-top img-fluid"}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("small",{className:"bg-dark text-danger text-center",children:[e.category.category," "]}),e.isFeatured&&(0,s.jsx)("small",{className:"bg-dark text-success text-center ms-3",children:" Featured"}),(0,s.jsxs)("small",{className:"bg-dark text-info text-center ms-3",children:[" Views - ",e.views]}),(0,s.jsxs)("small",{className:"bg-dark text-warning text-center ms-3",children:[" LAST UPDATED - ",e.createdAt]}),(0,s.jsx)("h1",{className:"mt-3 mb-3",children:e.title}),(0,s.jsx)("p",{dangerouslySetInnerHTML:{__html:e.content}})]})]}),(0,s.jsx)(n.vx,{postId:t}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"card mt-5 mb-5 pb-5 shadow-effect card-custom",children:(0,s.jsxs)("div",{className:"card-body card-body-custom",children:[(0,s.jsx)("h4",{className:"mt-3 mb-3",children:"Comments "}),h.map(e=>(0,s.jsx)("div",{children:(0,s.jsx)(n.y4,{comments:[e]})},e.id))]})})})]}),(0,s.jsx)("div",{className:"col-md-3 mt-4",children:(0,s.jsx)("div",{className:"mb-3",children:a.map(e=>(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)(n.in,{posts:[e]})},e.id))})})]})]},e.id))})};t.default=h},2780:function(e){e.exports={card:"postcardStyles_card___5XgA","card-img":"postcardStyles_card-img__dW4Ni"}},6022:function(e){e.exports={readerMode:"readermode_readerMode__EwfDd",readerModeContent:"readermode_readerModeContent__OIT3P"}},9854:function(e){e.exports={main:"Home_main__EtNt2",main2:"Home_main2__yDc6S","nav-link":"Home_nav-link__tZP3w",hidden:"Home_hidden__vKntZ"}},1163:function(e,t,a){e.exports=a(6885)}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=3208)}),_N_E=e.O()}]);