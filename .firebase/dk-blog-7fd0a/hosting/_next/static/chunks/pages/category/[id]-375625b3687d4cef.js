(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{8188:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[id]",function(){return a(9553)}])},2316:function(e,t,a){"use strict";a.d(t,{vx:function(){return x},y4:function(){return g},in:function(){return h},An:function(){return _}}),a(8406),a(5674);var r=a(5893),n=a(7294),s=a(2780),c=a.n(s),l=a(1481),d=a(4866);a(9418);var i=a(5675),o=a.n(i);let m=e=>{let{posts:t}=e,a=async e=>{await l.db.collection("posts").doc(e).update({views:d.Z.firestore.FieldValue.increment(1)}),window.location.href="/post/".concat(e)};return(0,r.jsx)(r.Fragment,{children:t.map(e=>(0,r.jsxs)("div",{className:"".concat(c().card," card shadow-effect card-custom"),onClick:()=>a(e.id),children:[(0,r.jsx)(o(),{src:e.postImgPath,width:600,height:400,className:"".concat(c()["card-img"]," card-img-top"),alt:"post-image"}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("small",{className:"bg-dark text-danger text-center",children:e.category.category}),e.isFeatured&&(0,r.jsx)("small",{className:"bg-dark text-success text-center ms-3",children:" Featured"}),(0,r.jsxs)("small",{className:"bg-dark text-info text-center ms-3",children:[" Views - ",e.views]}),(0,r.jsx)("h5",{className:"mt-1",children:e.title}),(0,r.jsx)("p",{children:e.excerpt.slice(0,100)}),(0,r.jsxs)("small",{className:"bg-dark text-warning text-center ms-3",children:[" LAST UPDATED - ",e.createdAt]})]})]},e.id))})};var h=m;let u=e=>{let{postId:t}=e,[a,s]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),i=async e=>{if(e.preventDefault(),!a||!c){alert("Please enter your name and comment");return}try{let e=await l.db.collection("posts").doc(t).collection("comments").add({name:a,comment:c,createdAt:new Date});console.log("Comment added with ID:",e.id),s(""),d("")}catch(e){console.error("Error adding comment:",e),alert("Error adding comment")}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"card mt-5 shadow-effect card-custom",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h4",{children:"Leave a Comment"}),(0,r.jsx)("p",{children:"You can leave a comment about this post!"}),(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Name"}),(0,r.jsx)("input",{type:"text",name:"name",className:"form-control mt-1",placeholder:"Enter your name here",value:a,onChange:e=>s(e.target.value)}),(0,r.jsx)("div",{className:"alert alert-danger",children:"Name field is required"})]}),(0,r.jsxs)("div",{className:"form-group mt-3",children:[(0,r.jsx)("label",{children:"Comment"}),(0,r.jsx)("textarea",{className:"form-control mt-1",placeholder:"Add your comment here!",value:c,onChange:e=>d(e.target.value)}),(0,r.jsx)("div",{className:"alert alert-danger",children:"Comment field is required"})]}),(0,r.jsx)("button",{className:"btn btn-info mt-3 btn-theme",onClick:i,children:"Add a comment"})]})]})})})};var x=u;let j=e=>{let{comments:t}=e;return(0,r.jsx)(r.Fragment,{children:t.map(e=>{var t;return(0,r.jsxs)("div",{className:"comment-box mt-3",children:[(0,r.jsx)("h6",{className:"mb-0",children:e.name}),(0,r.jsxs)("small",{className:"text-danger",children:["LAST UPDATED -"," ",new Date(null===(t=e.createdAt)||void 0===t?void 0:t.toDate()).toLocaleDateString()]}),(0,r.jsx)("div",{className:"mt-3 mb-3",children:e.comment}),(0,r.jsx)("a",{className:"mt-1",children:"Reply"}),(0,r.jsx)("a",{className:"mt-1 ms-3",children:"View Reply"})]},e.id)})})};var g=j,v=a(6022),N=a.n(v);let f=e=>{let{content:t,onClose:a}=e;return(0,r.jsxs)("div",{className:N().readerMode,children:[(0,r.jsx)("div",{className:N().readerModeContent,dangerouslySetInnerHTML:{__html:t}}),(0,r.jsx)("button",{className:N().readerModeCloseButton,onClick:a,children:"Close"})]})};var _=f},9553:function(e,t,a){"use strict";a.r(t);var r=a(5893),n=a(1163),s=a(7294),c=a(1481),l=a(2316),d=a(9854),i=a.n(d);let o=()=>{let[e,t]=(0,s.useState)([]),a=(0,n.useRouter)(),{id:d}=a.query,o=d?e.filter(e=>e.category.categoryId==d):e;return(0,s.useEffect)(()=>{let e=async()=>{let e=await c.db.collection("posts").get(),a=e.docs.map(e=>({id:e.id,...e.data()}));t(a)};e()},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:" ".concat(i().main2," "),children:[o.length>0&&(()=>{let e=o[0];return(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h1",{className:"text-white",children:e.category.category}),(0,r.jsxs)("p",{className:"text-white",children:["Discover everything you need to know about ",e.category.category]})]})})})(),0===o.length?(0,r.jsx)("div",{className:"container mt-5 mb-5",children:(0,r.jsx)("h2",{children:"No content available for this category"})}):(0,r.jsx)("div",{className:"container mt-5 mb-5",children:(0,r.jsx)("div",{className:"row",children:o.map(e=>(0,r.jsx)("div",{className:"col-md-3 mb-3",children:(0,r.jsx)(l.in,{posts:[e]})},e.id))})})]})})};t.default=o},2780:function(e){e.exports={card:"postcardStyles_card___5XgA","card-img":"postcardStyles_card-img__dW4Ni"}},6022:function(e){e.exports={readerMode:"readermode_readerMode__EwfDd",readerModeContent:"readermode_readerModeContent__OIT3P"}},9854:function(e){e.exports={main:"Home_main__EtNt2",main2:"Home_main2__yDc6S","nav-link":"Home_nav-link__tZP3w",hidden:"Home_hidden__vKntZ"}},1163:function(e,t,a){e.exports=a(6885)}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=8188)}),_N_E=e.O()}]);